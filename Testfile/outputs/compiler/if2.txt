AST tree:
[Define (AstSymbol "a") (AstInt 5),Define (AstSymbol "b") (AstInt 4),Define (AstSymbol "c") (AstInt 0),If (AstList [AstSymbol "a",LogicOperator "==",AstSymbol "b"]) (AstList [Assign (AstSymbol "c") (AstInt 1),AstCall (AstSymbol "print") (AstList [AstString "aaaha"])]) (AstList [AstCall (AstSymbol "print") (AstList [AstString "lol"]),AstCall (AstSymbol "print") (AstList [AstString "mdr"])]),AstCall (AstSymbol "print") (AstList [AstSymbol "c"])]
(env)
[]
(insts)
[Push (IntValue 5),AssignEnvValue "a",Push (IntValue 4),AssignEnvValue "b",Push (IntValue 0),AssignEnvValue "c",PushVMEnv "a",PushVMEnv "b",Push (Operator Eq),CallOp,JumpIfFalse 5,Push (IntValue 1),AssignEnvValue "c",Push (StringValue "aaaha"),PushToOutput,Jump 4,Push (StringValue "lol"),PushToOutput,Push (StringValue "mdr"),PushToOutput,PushVMEnv "c",PushToOutput,Ret]
Environment:
Instructions:
Push (IntValue 5)
AssignEnvValue "a"
Push (IntValue 4)
AssignEnvValue "b"
Push (IntValue 0)
AssignEnvValue "c"
PushVMEnv "a"
PushVMEnv "b"
Push (Operator Eq)
CallOp
JumpIfFalse 5
Push (IntValue 1)
AssignEnvValue "c"
Push (StringValue "aaaha")
PushToOutput
Jump 4
Push (StringValue "lol")
PushToOutput
Push (StringValue "mdr")
PushToOutput
PushVMEnv "c"
PushToOutput
Ret
