AST tree:
[NamedCall (AstSymbol "test") (Lambda (AstList []) (AstList [Define (AstSymbol "x") (AstInt 5),AstCall (AstSymbol "return") (AstList [AstSymbol "x"])])),AstCall (AstSymbol "print") (AstList [AstCall (AstSymbol "test") (AstList [])])]
(env)
[("test",Function [Push (IntValue 5),AssignEnvValue "x",PushVMEnv "x",Ret])]
(insts)
[PushVMEnv "test",Call 0,PushToOutput,Ret]
Environment:
test = FUNCTION [Push (IntValue 5),AssignEnvValue "x",PushVMEnv "x",Ret]
Instructions:
PushVMEnv "test"
Call 0
PushToOutput
Ret